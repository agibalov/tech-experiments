<div class="container">
  <form [formGroup]="newTodoForm">
    <div class="field has-addons">
      <div class="control">
        <input class="input" type="text" placeholder="Do this..." formControlName="text">
      </div>
      <div class="control">
        <button type="submit" class="button is-success"
                (click)="createTodo()" [attr.disabled]="newTodoForm.valid ? null : ''">Add</button>
      </div>
    </div>
  </form>
  <hr>
  <ng-container *ngIf="mostRecentTodo !== null">
    <p>Most recent: id={{mostRecentTodo.id}} text={{mostRecentTodo.text}} (try with 2 browser windows)</p>
    <hr>
  </ng-container>
  <ul *ngIf="todos">
    <li *ngFor="let todo of todos">id={{todo.id}} text={{todo.text}}
      <button type="button" class="button is-small is-danger" (click)="deleteTodo(todo.id)">Delete</button>
    </li>
  </ul>
</div>
